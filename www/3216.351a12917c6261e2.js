"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3216],{6651:(L,C,l)=>{l.d(C,{n:()=>u});var g=l(8256),p=l(6895),m=l(6955);let w=(()=>{class s{constructor(r,i,h){this.location=r,this.router=i,this.activatedRoute=h}setRoot(r,i={}){this.navigateTo(r,i)}push(r,i={}){this.navigateTo(r,{queryParams:i})}pop(){return new Promise(r=>{this.location.back(),r(!0)})}navigateTo(r,i){this.router.navigate(["pages/"+r],i)}navigateFromRoot(r,i){this.router.navigate([r],i)}getParams(){return this.activatedRoute.snapshot.params}getQueryParams(){return this.activatedRoute.snapshot.queryParams}}return s.\u0275fac=function(r){return new(r||s)(g.LFG(p.Ye),g.LFG(m.F0),g.LFG(m.gz))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var t=l(6801),y=l(5035),v=l(655);let o=(()=>{class s{constructor(r){this.modal=r}present(r,i={},h=""){return new Promise(a=>(0,v.mG)(this,void 0,void 0,function*(){const f=yield this.modal.create({component:r,cssClass:h,componentProps:i});f.onDidDismiss().then(P=>{a(P)}),yield f.present()}))}dismiss(r={}){return new Promise(i=>{r.dismiss=!0,this.modal.dismiss(r).then(h=>i(!0))})}}return s.\u0275fac=function(r){return new(r||s)(g.LFG(y.IN))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var c=l(1481);let e=(()=>{class s{constructor(r){this.platform=r}set(r,i){return new Promise(h=>{localStorage.setItem(r,i),h(r)})}get(r){return new Promise(i=>{i(localStorage.getItem(r))})}}return s.\u0275fac=function(r){return new(r||s)(g.LFG(y.t4))},s.\u0275prov=g.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var n=l(4585);class u{constructor(d){this.platform=d.get(y.t4),this.utility=d.get(t.t),this.location=d.get(p.Ye),this.nav=d.get(w),this.modals=d.get(o),this.menuCtrl=d.get(y._q),this.storageService=d.get(e),this.domSanitizer=d.get(c.H7),this.graphql=d.get(n.B)}}},3216:(L,C,l)=>{l.r(C),l.d(C,{LoginPageModule:()=>r});var g=l(6895),p=l(433),m=l(5035),w=l(6955),t=l(8256),y=l(655),v=l(6651),o=l(4585);let c=(()=>{class i extends v.n{constructor(a,f){super(a),this.ql=f,this.email="",this.password="",this.signUpEvent=new t.vpe}ngOnInit(){}signIn(){return(0,y.mG)(this,void 0,void 0,function*(){yield this.ql.loginUser(this.email,this.password)})}signUp(){this.signUpEvent.emit()}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(t.zs3),t.Y36(o.B))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-view"]],outputs:{signUpEvent:"signUpEvent"},features:[t.qOj],decls:28,vars:2,consts:[[1,"ion-padding"],[1,"main"],[1,"login-outer"],[1,"login-inner"],[1,"bebas"],[1,"input-main"],["color","dark",1,"input-item","input"],["color","light","type","email","placeholder","Email",3,"ngModel","ngModelChange"],["color","light","type","password","placeholder","Password",3,"ngModel","ngModelChange"],[1,"mb-rt"],["color","primary","expand","block",1,"button",3,"click"],[1,"bebas","forgot"],[1,"login-with-main"],[1,"poppins"],[1,"logos"],["src","./../../../../assets/images/logosapple.png"],["src","./../../../../assets/images/facebook-logo.png"],["src","./../../../../assets/images/google-logo.png"],[1,"go-to-signup",3,"click"],["fill","clear","color","primary"]],template:function(a,f){1&a&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"SIGN IN"),t.qZA(),t.TgZ(6,"ion-list",5)(7,"ion-item",6)(8,"ion-input",7),t.NdJ("ngModelChange",function(M){return f.email=M}),t.qZA()(),t.TgZ(9,"ion-item",6)(10,"ion-input",8),t.NdJ("ngModelChange",function(M){return f.password=M}),t.qZA()(),t.TgZ(11,"div",9)(12,"ion-button",10),t.NdJ("click",function(){return f.signIn()}),t._uU(13,"SIGN IN"),t.qZA()()(),t.TgZ(14,"div",11),t._uU(15,"FORGOT PASSWORD"),t.qZA()(),t.TgZ(16,"div",12)(17,"span",13),t._uU(18," SIGN IN WITH"),t.qZA(),t.TgZ(19,"div",14),t._UZ(20,"img",15)(21,"img",16)(22,"img",17),t.qZA(),t.TgZ(23,"div",18),t.NdJ("click",function(){return f.signUp()}),t.TgZ(24,"span"),t._uU(25,"Don't have an account?"),t.qZA(),t.TgZ(26,"ion-button",19),t._uU(27,"SIGN UP"),t.qZA()()()()()()),2&a&&(t.xp6(8),t.Q6J("ngModel",f.email),t.xp6(2),t.Q6J("ngModel",f.password))},dependencies:[p.JJ,p.On,m.YG,m.W2,m.pK,m.Ie,m.q_,m.j9],styles:[".login-outer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:90px}.login-outer[_ngcontent-%COMP%]   .login-with-main[_ngcontent-%COMP%]{width:100%;margin-top:150px}.login-outer[_ngcontent-%COMP%]   .login-with-main[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:800}.login-outer[_ngcontent-%COMP%]   .login-with-main[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;justify-content:space-evenly;margin:30px auto auto;width:40%}.login-outer[_ngcontent-%COMP%]   .login-with-main[_ngcontent-%COMP%]   .go-to-signup[_ngcontent-%COMP%]{width:63%;margin:100px auto auto;display:flex;justify-content:center;align-items:center;justify-content:space-between}.login-outer[_ngcontent-%COMP%]   .login-with-main[_ngcontent-%COMP%]   .go-to-signup[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.login-inner[_ngcontent-%COMP%]{width:100%}.login-inner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:37px;color:#fff;font-weight:800}.login-inner[_ngcontent-%COMP%]   .forgot[_ngcontent-%COMP%]{font-size:15px;margin-top:20px;color:#fff}.login-inner[_ngcontent-%COMP%]   .input-main[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{width:100%;margin-top:20px}.login-inner[_ngcontent-%COMP%]   .input-main[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{width:100px}.login-inner[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-top:20px;font-size:17px;font-weight:700}"]}),i})();const e=["swiper"],u=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}gotoPV(){var a;null===(a=this.swiper)||void 0===a||a.swiperRef.slideTo(2)}gotoSignup(){var a;null===(a=this.swiper)||void 0===a||a.swiperRef.slideTo(1)}gotoLogin(){var a;null===(a=this.swiper)||void 0===a||a.swiperRef.slideTo(0)}signUp(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(a,f){if(1&a&&t.Gf(e,5),2&a){let P;t.iGM(P=t.CRH())&&(f.swiper=P.first)}},decls:2,vars:0,consts:[[1,"full-width-height-23464",3,"signUpEvent"]],template:function(a,f){1&a&&(t.TgZ(0,"ion-content")(1,"app-login-view",0),t.NdJ("signUpEvent",function(){return f.signUp()}),t.qZA()())},dependencies:[m.W2,c],styles:[".full-width-height-23464[_ngcontent-%COMP%]{width:100%;height:100vh}"]}),i})()}];let s=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[w.Bz.forChild(u),w.Bz]}),i})();var d=l(9632);let r=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,p.u5,m.Pc,s,d.kz]}),i})()},4585:(L,C,l)=>{l.d(C,{B:()=>w});var g=l(381),p=l(8256),m=l(6801);let w=(()=>{class t{constructor(v,o){this.apollo=v,this.util=o,this.getUsersgql=g.Ps`
    query getUsers($limit: Int!){
        getUser(limit: $limit){
          user{ 
            _id
            fullName           
          }
          totalItem
        }
      }
  `,this.loginUsergql=g.Ps`
  query signIn($email: String!, $password: String!){
    signIn(data:{email:$email,password: $password}){
      token
      _id
      fullName
      role
    }
  }
`,this.signUpgql=g.Ps`
query getUsers($limit: Int!){
    getUser(limit: $limit){
      user{ 
        _id
        fullName
        role           
      }
      totalItem
    }
  }
`}getUsers(){return new Promise((v,o)=>{this.util.showLoader();try{this.apollo.watchQuery({query:this.getUsersgql,variables:{limit:1},errorPolicy:"all"}).valueChanges.subscribe(c=>{this.util.hideLoader(),c.error&&this.util.presentFailureToast(c.error,""),c.errors&&this.util.presentFailureToast(c.error,""),v(c.data)})}catch(c){this.util.hideLoader(),this.util.presentFailureToast(c,""),o(c)}})}loginUser(v,o){return new Promise((c,e)=>{this.util.showLoader();try{this.apollo.watchQuery({query:this.loginUsergql,variables:{email:v,password:o},errorPolicy:"all"}).valueChanges.subscribe(n=>{console.log("res",n),this.util.hideLoader(),n.error&&this.util.presentFailureToast(n.error,""),n.errors&&this.util.presentFailureToast(n.error,""),c(n.data)})}catch(n){console.log("er",n),this.util.hideLoader(),this.util.presentFailureToast(n,""),e(n)}})}signUp(){return new Promise((v,o)=>{this.util.showLoader();try{this.apollo.watchQuery({query:this.getUsersgql,variables:{limit:1},errorPolicy:"all"}).valueChanges.subscribe(c=>{this.util.hideLoader(),c.error&&this.util.presentFailureToast(c.error,""),c.errors&&this.util.presentFailureToast(c.error,""),v(c.data)})}catch(c){this.util.hideLoader(),this.util.presentFailureToast(c,""),o(c)}})}}return t.\u0275fac=function(v){return new(v||t)(p.LFG(g._M),p.LFG(m.t))},t.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},6801:(L,C,l)=>{l.d(C,{t:()=>v});var g=l(655),p=l(8256),m=l(5035);let w=(()=>{class o{constructor(e){this.loadingController=e}showLoader(e="Please wait..."){return(0,g.mG)(this,void 0,void 0,function*(){this.loading=yield this.loadingController.create({cssClass:"my-custom-class",message:e}),yield this.loading.present()})}hideLoader(){return(0,g.mG)(this,void 0,void 0,function*(){this.loading?this.loading.dismiss():console.log(this.loading)})}}return o.\u0275fac=function(e){return new(e||o)(p.LFG(m.HT))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),t=(()=>{class o{constructor(){}capitalizeEachFirst(e){if(!e)return"";const n=e.toLowerCase().split(" ");for(let u=0;u<n.length;u++)n[u]=n[u].charAt(0).toUpperCase()+n[u].substring(1);return n.join(" ")}checkIfMatchingPasswords(e,n){return u=>{const d=u.controls[n];return d.setErrors(u.controls[e].value!==d.value?{notEquivalent:!0}:null)}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),y=(()=>{class o{constructor(e,n,u){this.alertController=e,this.toastCtrl=n,this.strings=u}showAlert(e,n="Alert"){return new Promise(u=>(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:n,message:e,buttons:[{text:"OK",cssClass:"secondary",handler:d=>{u(!0)}}]})).present()}))}presentSuccessToast(e,n){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:this.strings.capitalizeEachFirst(e),duration:5e3,position:"top",cssClass:n})).present()})}presentFailureToast(e,n){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:this.strings.capitalizeEachFirst(e||"ERROR"),duration:5e3,position:"top",cssClass:n})).present()})}presentToast(e){return(0,g.mG)(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:e,duration:5e3,position:"bottom"})).present()})}presentConfirm(e="OK",n="Cancel",u="Are You Sure?",s=""){return new Promise(d=>(0,g.mG)(this,void 0,void 0,function*(){(yield this.alertController.create({header:u,message:s,buttons:[{text:n,role:"cancel",handler:()=>{d(!1)}},{text:e,handler:()=>{d(!0)}}]})).present()}))}}return o.\u0275fac=function(e){return new(e||o)(p.LFG(m.Br),p.LFG(m.yF),p.LFG(t))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),v=(()=>{class o{constructor(e,n,u,s){this.loading=e,this.plt=n,this.alerts=u,this.strings=s,this.pdfLink="http://thisisvantage.com/saudiflag/public"}showLoader(e="Please wait..."){return(0,g.mG)(this,void 0,void 0,function*(){return yield this.loading.showLoader(e)})}hideLoader(){return(0,g.mG)(this,void 0,void 0,function*(){return yield this.loading.hideLoader()})}showAlert(e,n="Alert"){return this.alerts.showAlert(e,n)}presentToast(e){return this.alerts.presentToast(e)}presentSuccessToast(e,n){return this.alerts.presentSuccessToast(e,n)}presentFailureToast(e,n){return this.alerts.presentFailureToast(e,n)}presentConfirm(e="OK",n="Cancel",u="Are You Sure?",s=""){return this.alerts.presentConfirm(e,n,u,s)}capitalizeEachFirst(e){return this.strings.capitalizeEachFirst(e)}}return o.\u0275fac=function(e){return new(e||o)(p.LFG(w),p.LFG(m.t4),p.LFG(y),p.LFG(t))},o.\u0275prov=p.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);